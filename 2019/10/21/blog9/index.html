<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="">
  <meta name="author" content="08ming">
  <meta name="keywords" content="">
  <title>Servlet技术 ~ ming&#39;s blog</title>
  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
  <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
  <link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
  <link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >
  <link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">
  
    <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >
  
  <link rel="stylesheet" href="/css/main.css"  >

  
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?Key";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>ming&#39;s blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/default.png')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              <p class="mt-3">星期一, 十月 21日 2019, 9:13 晚上</p>
              <p class="mt-3">
                <i class="fa fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                星期一, 十月 21日 2019, 9:13 晚上
              </p>
              
                <!--不蒜子统计文章PV-->
                
                <p>
                  <i class="fa fa-user" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">阅读次数 
                  <span id="busuanzi_value_page_pv"></span> 次</span>
                </p>
              
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto">
          <div class="markdown-body">
            <h2 id="Servlet是什么"><a href="#Servlet是什么" class="headerlink" title="Servlet是什么"></a>Servlet是什么</h2><h4 id="Servlet是利用java类编写的服务端应用程序，顾名思义，它通常实在服务端运行的程序，打开浏览器即可调用一个。它可以被看作是位于客户端和服务器端的一个中间层，负责接受和请求客户端用户的响应。"><a href="#Servlet是利用java类编写的服务端应用程序，顾名思义，它通常实在服务端运行的程序，打开浏览器即可调用一个。它可以被看作是位于客户端和服务器端的一个中间层，负责接受和请求客户端用户的响应。" class="headerlink" title="Servlet是利用java类编写的服务端应用程序，顾名思义，它通常实在服务端运行的程序，打开浏览器即可调用一个。它可以被看作是位于客户端和服务器端的一个中间层，负责接受和请求客户端用户的响应。"></a>Servlet是利用java类编写的服务端应用程序，顾名思义，它通常实在服务端运行的程序，打开浏览器即可调用一个。它可以被看作是位于客户端和服务器端的一个中间层，负责接受和请求客户端用户的响应。</h4><h4 id="Servlet可以提供以下功能："><a href="#Servlet可以提供以下功能：" class="headerlink" title="Servlet可以提供以下功能："></a>Servlet可以提供以下功能：</h4><ol>
<li>对客户端发送的数据进行读取和拦截</li>
<li>读取客户端请求的隐含数据</li>
<li>运行结果或者生成接果</li>
<li>发送响应的数据</li>
</ol>
<a id="more"></a>

<h4 id="Servlet技术特点"><a href="#Servlet技术特点" class="headerlink" title="Servlet技术特点"></a>Servlet技术特点</h4><ol>
<li>高效率</li>
<li>简单方便</li>
</ol>
<h4 id="Servlet的生命周期"><a href="#Servlet的生命周期" class="headerlink" title="Servlet的生命周期"></a>Servlet的生命周期</h4><ul>
<li><h5 id="初始化阶段"><a href="#初始化阶段" class="headerlink" title="初始化阶段"></a>初始化阶段</h5><p>  初始化阶段分为装载和初始化两个子阶段。装载就是由Servlet容器装载一个Servlet类，把它装载到java内存中，Servlet容器可创建一个Servlet对象并与web.xml中的配置对应起来，初始化子阶段是调用Servlet中的init（）方法，在整个Servlet生命周期中init（）方法只调用一次。</p>
</li>
<li><h5 id="运行阶段"><a href="#运行阶段" class="headerlink" title="运行阶段"></a>运行阶段</h5><p>  在这个阶段中会实际响应客户端的请求，当有请求时Servlet会创建HttpServletRequest和HttpServletResponse对象，然后调用service（HttpServletRequest request，HttpServletResponse response）方法，service（）方法通过request对象获取请求对象的信息并加以处理，再由response对象对客户端做出响应。</p>
</li>
<li><h4 id="消亡阶段"><a href="#消亡阶段" class="headerlink" title="消亡阶段"></a>消亡阶段</h4><p>  当Servlet应用被终止后，Servlet容器会调用destroy（）方法对Servlet对象进行销毁动作，同样，destroy（）方法在整个生命周期中只能被调用一次。</p>
</li>
</ul>
<h4 id="Servlet的编写与部署"><a href="#Servlet的编写与部署" class="headerlink" title="Servlet的编写与部署"></a>Servlet的编写与部署</h4><p>我们将创建的Servlet的Java class文件放在src文件夹下，也可以新建文件夹。对于刚创建好的java类，其主类必须继承至HttpServlet类，这样才可以具有开发功能。<br>编写好Servlet代码后，还需要配置WEB-INF文件夹下的web.xml文件，而在实际开发中，用的最多的是以下这种：<br>（在Servlet代码中主类前面加上以下代码）</p>
<pre><code>@WebServlet(
     urlPatterns = {&quot;/自定义文件别名&quot;},
     name = &quot;文件名&quot;
 )</code></pre><p>在平时开发过程中，一般都继承了HttpServlet类，因为它封装了很多基于HTTP协议下的Servlet功能，当然自己想开发一个协议还可以继承GenericServlet类。Servlet中有两个处理请求的方法，一个是doGet（）方法，响应HTTP Get请求，另一个是doPost（）方法，响应HTTP Post请求。</p>
<p>以下是重点基础：</p>
<p>首先了解一下容器，Web容器的作用就是创建一个Servlet实例，并完成Servlet的注册以及根据web.xml中的URL进行响应，当请求来到容器时，Web容器会转发给对应的Servlet来处理请求。</p>
<ol>
<li><h3 id="请求（HttpServletRequest）"><a href="#请求（HttpServletRequest）" class="headerlink" title="请求（HttpServletRequest）"></a>请求（HttpServletRequest）</h3></li>
</ol>
<ul>
<li><p>使用getReader（）方法获取Body内容，</p>
<p>   BufferedReader br = request.getReader();//创建一个缓冲对象，一次性读取所有数据。</p>
<p>   读取数据可以使用：br.readLine()方法，表示一次性读取一行字符串</p>
<p>   form表单中需要添加enctype的值为multipart/form-data，表示从客户端上床文件，这是读取文件才不会得到奇怪的字符</p>
</li>
<li><p>使用getPart（）、getParts（）方法取得上床的文件</p>
<p> 在使用getPart（）、和getParts（）方法时，必须用MultipartConfig注解，才能获得Part对象。</p>
</li>
</ul>
<blockquote>
<pre><code>@MultipartConfig(
    location = &quot;本地路径&quot;， //存放地址
    maxFileSize = 1024 * 1024 * 10   //设置允许上传的文件的最大值
 )</code></pre></blockquote>
<blockquote>
<pre><code>Part part = request.getPart(&quot;文件名&quot;)； //获取part对象
String filename = Filename(part); //获取文件名字，Filename需要自行编写
part.write(filename);</code></pre></blockquote>
<ul>
<li><p>使用RequestDispatcher调派请求</p>
<p>  //获取对象<br>  RequestDispatcher dispatcher = request.getRequestDispatcher(“/某页面别名”);<br>  dispatcher.include(request,response);//包含该页面内容<br>  //或者 dispatcher.forward(request,response);//跳转至该页面</p>
</li>
</ul>
<h3 id="响应（HttpServletResponse）"><a href="#响应（HttpServletResponse）" class="headerlink" title="响应（HttpServletResponse）"></a>响应（HttpServletResponse）</h3><ul>
<li><p>使用getWriter（）输出字符</p>
<p>   在含有中文的请求与响应时，必须设置编码类型<br>   response.setContentType(“text/html;charset=UTF-8”);<br>   //取得对象<br>   PrintWriter out = response.getWriter();<br>   //输出页面内容<br>   out.println(“&lt; HTML &gt;”);<br>   out.println(“  &lt; HEAD &gt;&lt; TITLE &gt;A Servlet&lt; /TITLE &gt;&lt; /HEAD &gt;”);<br>   out.println(“   &lt; BODY &gt;”);<br>   out.println(“  &lt; /BODY &gt;”);<br>   out.println(“&lt; /HTML &gt;”);<br>   out.close();//注意一定要close</p>
</li>
<li><p>使用DownloadServlet 下载文件</p>
</li>
<li><p>使用sendRedirect（）方法跳转至其他页面，地址栏地址发送改变</p>
</li>
<li><p>使用sendError（）方法传递服务器的状态和错误信息</p>
</li>
</ul>
<h3 id="会话管理（HttpSession）"><a href="#会话管理（HttpSession）" class="headerlink" title="会话管理（HttpSession）"></a>会话管理（HttpSession）</h3><pre><code>//获取对象
HttpSession session = request.getSession();
//设置name参数
session.setAttibute(&quot;name&quot;,name);
//URL重写
response.encodeURL(&quot;login.jsp&quot;);</code></pre><p>本次介绍很的是重要的三个功能，与jsp中三个内置对象对应，其中的方法也是大同小异，所以没有太多介绍方法。由于本人能力有限，有何建议，可以发送至邮箱<a href="mailto:SubjuGateW@163.com" target="_blank" rel="noopener">SubjuGateW@163.com</a></p>

            <hr>
          </div>
          <br>
          <div>
            
              <p>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/Java%20web%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0">Java web开发学习</a>
                  &nbsp;
                
              </p>
            
            <p>
              <i class="iconfont icon-tag"></i>
              
                <a class="hover-with-bg" href="/tags/JSP/Servlet">JSP/Servlet</a>
              
              <span id="/2019/10/21/blog9/" class="visitors leancloud_visitors" data-flag-title="Servlet技术">
                <em id="visitors-text" class="post-meta-item-text"></em>
                <i id="visitors-count"></i>
              </span>
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>
    
      
        <!--不蒜子统计PV-->
        
        &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
      
      
        <!--不蒜子统计UV-->
        
        &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
      
      <br>
    
    
  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>

  <script src="/js/lazyload.js" ></script>


  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>


  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint linenums');
      prettyPrint();
    })
  </script>


  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Servlet技术&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 1000,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>


  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script>
    if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent) || (/Safari/i.test(navigator.userAgent) && !/Chrome/i.test(navigator.userAgent))) {
      $("#background").css("background-attachment", "scroll");
    }
  </script>

</body>
</html>
